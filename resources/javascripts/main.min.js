$(document).ready(function(){$.fn.setContent=function(){this.text("@over__exposed")},$.fn.displayGrid=function(){var a=new freewall("#background_wrap_instagram #instagram_wrap");a.reset({selector:".instagramItem",fixSize:0,gutterY:0,gutterX:0,animate:!0,cellW:306,cellH:306,onResize:function(){a.fitWidth()}}),a.fitWidth(),$(window).trigger("resize")},$.fn.setInstagramContent=function(){function h(b){$.getJSON(b,function(b){if(g=void 0!=b.pagination.next_url?b.pagination.next_url+"&callback=?":f,200==b.meta.code){var c=b.data;if(c.length>0)for(var d in c){var e=c[d],h=e.likes.count,i=e.id,j=e.link,k=e.caption.text,l=e.images.low_resolution.url;$(a).append('<div class="instagramItemWrap"><div class="instagramItem" likes="'+h+'" media_id="'+i+'" caption="'+k+'" link="'+j+'" style="background-image: url('+l+'); background-size: cover;"></div></div>')}}}).done(function(){$("#background_wrap_instagram #instagram_wrap").unbind(),$("#background_wrap_instagram #instagram_wrap").displayGrid(),$(".instagramItem").unbind(),$(".instagramItem").each(function(){$(this).loadInstagramOverlay()})})}var g,a=this,b=20,c="448347490",e="cba65570ad7b46eeab122555a18c7b2d",f="https://api.instagram.com/v1/users/"+c+"/media/recent/?client_id="+e+"&callback=?&count="+b;h(f)},$("#background_wrap_instagram #instagram_wrap").setInstagramContent(),$.fn.goToNextSection=function(){$(this).click(function(){for($next=$(this).closest(".backColorBox").next(".backColorBox");$next.hasClass("hidden")&&$next.next(".backColorBox").length>0;)$next=$next.next(".backColorBox");$("html, body").animate({scrollTop:$next.offset().top},500)})},$(".next_section .icon").goToNextSection(),$.fn.setFlickrContent=function(){var a="http://api.flickr.com/services/feeds/photos_public.gne",b="95943136@N06",c="&format=json&jsoncallback=?",d=a+"?id="+b+c;$.getJSON(d,function(a){$("h1").text(a.title),$.each(a.items,function(a,b){var c='<span class="image">';c+='<a href="'+b.link+'">',c+='<img src="'+b.media.m.replace("_m","_b")+'"></a>';var d=b.media.m.replace("_m","_b"),e="url('"+d+"') 50% 50% no-repeat";$("#background_flickr").css("background",e),$("#background_flickr").css("background-size","cover")})})},$("#background_wrap_flickr").setFlickrContent(),$.fn.hideOverlay=function(){var a=this,b=this.closest('div[class^="overlayWrap"]'),c=b.find('div[class^="closeOverlay"]');a.on("click",function(c){$(c.target).attr("class")===a.attr("class")&&(b.addClass("hidden"),$(document.body).css("overflow","visible"))}),c.on("click",function(){b.addClass("hidden"),$(document.body).css("overflow","visible")})},$(".overlayBox").hideOverlay(),$.fn.loadInstagramOverlay=function(){var b,c,d,e,f,g,h,i,j,a=this;a.on("click",function(){g=a.attr("media_id"),h="448347490.467ede5.06d02b1dda0b451298bebe7b2dd97fe3",i="https://api.instagram.com/v1/media/"+g+"?access_token="+h+"&callback=?",$.getJSON(i,function(a){j=a.data,b=j.likes.count,c=j.link,d=j.caption.text,e=j.images.standard_resolution.url,f="url('"+e+"') 50% 50% no-repeat"}).done(function(){var a=$("#instagram_overlay_wrap");a.removeClass("hidden"),$(document.body).css("overflow","hidden"),a.find("#instagram_photo").css("background",f),a.find("#instagram_photo").css("background-size","cover"),a.find("#like_count").text(b),a.find("#instagram_caption").text(d)})})},$(".instagramItem").loadInstagramOverlay(),$.fn.loadOnReachingBottom=function(){$target=$(this),$(window).scroll(function(){$(window).scrollTop()+$(window).height()>=$target.offset().top+$target.height()&&$("#background_wrap_instagram #instagram_wrap").setInstagramContent()})},$.fn.mobileSafariFillLength=function(){function a(a){var b=window.innerHeight;a.css("height",b)}$target=$(this),/iP/.test(navigator.platform)&&/Safari/i.test(navigator.userAgent)&&(a($target),$(window).resize(function(){a.call(this,$target)}))},$("body").mobileSafariFillLength()});